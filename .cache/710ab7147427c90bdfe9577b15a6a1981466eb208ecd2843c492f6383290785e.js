{"source":"webpackJsonp([4],{\"+Cdc\":function(e,t,s){\"use strict\";var n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",[s(\"fieldset\",[s(\"legend\",{staticClass:\"title\"},[t._v(\"用户工作日志\")]),t._v(\" \"),s(\"div\",{staticClass:\"content\"},t._l(t.logList,function(e){return s(\"div\",{key:e.key,staticClass:\"item\"},t._l(e.content,function(e){return s(\"span\",{key:e.key},[t._v(t._s(e))])}))}))])])},staticRenderFns:[]};t.a=n},\"/L16\":function(e,t){},\"1HEJ\":function(e,t){},\"5P9s\":function(e,t){},\"5csc\":function(e,t,s){\"use strict\";var n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"buttons clear\"},[s(\"button\",{staticClass:\"btn btn-primary\",attrs:{type:\"button\"},on:{click:e.refresh}},[s(\"span\",{staticClass:\"glyphicon glyphicon-refresh\",staticStyle:{color:\"rgb(255, 140, 60)\"}},[e._v(\" 刷新\")])]),e._v(\" \"),s(\"button\",{staticClass:\"btn btn-primary\",attrs:{type:\"button\"},on:{click:e.dele}},[s(\"span\",{staticClass:\"glyphicon glyphicon-trash\",staticStyle:{color:\"rgb(255, 140, 60)\"}},[e._v(\" 删除\")])]),e._v(\" \"),s(\"button\",{staticClass:\"btn btn-primary\",attrs:{type:\"button\"},on:{click:e.add}},[s(\"span\",{staticClass:\"glyphicon glyphicon-plus\",staticStyle:{color:\"rgb(255, 140, 60)\"}},[e._v(\" 添加\")])]),e._v(\" \"),e._t(\"default\")],2)},staticRenderFns:[]};t.a=n},Alhw:function(e,t,s){\"use strict\";(function(n){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default={name:\"workinglog\",data:function(){return{logList:\"\"}},computed:{getuserid:function(){return this.$parent.userId}},watch:{getuserid:function(e,t){var s=this;console.log(\"这是workinglog-watch11\"),console.log(e),n.ajax({url:\"get_user_log.php\",type:\"POST\",dataType:\"Json\",data:{userid:e},success:function(e){s.logList=e,console.log(\"这里是workinglog-watch\"),console.log(s.logList)}})}}}}).call(t,s(\"L7Pj\"))},JIRo:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=s(\"Alhw\"),a=s.n(n);for(var i in n)\"default\"!==i&&function(e){s.d(t,e,function(){return n[e]})}(i);var r=s(\"+Cdc\");var c=function(e){s(\"Xr6N\")},o=s(\"C7Lr\")(a.a,r.a,!1,c,\"data-v-124d4bc0\",null);t.default=o.exports},TJ2y:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=s(\"j9VT\"),a=s.n(n);for(var i in n)\"default\"!==i&&function(e){s.d(t,e,function(){return n[e]})}(i);var r=s(\"5csc\");var c=function(e){s(\"/L16\")},o=s(\"C7Lr\")(a.a,r.a,!1,c,\"data-v-9920f636\",null);t.default=o.exports},Uu3Y:function(e,t){},WTs0:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=s(\"w18R\"),a=s.n(n);for(var i in n)\"default\"!==i&&function(e){s.d(t,e,function(){return n[e]})}(i);var r=s(\"iUuc\");var c=function(e){s(\"noOw\")},o=s(\"C7Lr\")(a.a,r.a,!1,c,\"data-v-4d23cd54\",null);t.default=o.exports},XIHE:function(e,t,s){\"use strict\";var n={render:function(){var c=this,e=c.$createElement,t=c._self._c||e;return t(\"div\",[t(\"fieldset\",[t(\"legend\",{staticClass:\"title\"},[c._v(\"用户权限管理\")]),c._v(\" \"),t(\"div\",{staticClass:\"wrap\"},[t(\"div\",{staticClass:\"limitionlist\"},[t(\"div\",{staticClass:\"listname\"},[c._v(\"\\n          权限列表\\n        \")]),c._v(\" \"),t(\"div\",{staticClass:\"content\"},c._l(c.permitionList,function(i){return t(\"div\",{key:i.key,class:\"row-\"+i.id},[t(\"span\",{staticClass:\"bold-item item\"},[t(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.checked,expression:\"permition.checked\"}],attrs:{type:\"checkbox\"},domProps:{checked:Array.isArray(i.checked)?-1<c._i(i.checked,null):i.checked},on:{click:function(e){e.stopPropagation(),c.checkAll(i)},change:function(e){var t=i.checked,s=e.target,n=!!s.checked;if(Array.isArray(t)){var a=c._i(t,null);s.checked?a<0&&c.$set(i,\"checked\",t.concat([null])):-1<a&&c.$set(i,\"checked\",t.slice(0,a).concat(t.slice(a+1)))}else c.$set(i,\"checked\",n)}}}),c._v(c._s(i.name))]),c._v(\" \"),c._l(i.children,function(r){return t(\"span\",{key:r.key,staticClass:\"item\"},[t(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:r.checked,expression:\"item.checked\"}],attrs:{type:\"checkbox\",checked:\"checked\"},domProps:{value:r.name,checked:Array.isArray(r.checked)?-1<c._i(r.checked,r.name):r.checked},on:{change:function(e){var t=r.checked,s=e.target,n=!!s.checked;if(Array.isArray(t)){var a=r.name,i=c._i(t,a);s.checked?i<0&&c.$set(r,\"checked\",t.concat([a])):-1<i&&c.$set(r,\"checked\",t.slice(0,i).concat(t.slice(i+1)))}else c.$set(r,\"checked\",n)}}}),c._v(\" \"),t(\"span\",{staticStyle:{width:\"48px\"}},[c._v(c._s(r.name))]),c._v(\" \"),1==r.isRange&&1==r.haveRange?t(\"span\",{class:r.canClick?\"clicked\":\"unclicked\",on:{click:function(e){c.clicked(r)}}},[c._v(\"[有范围]\")]):c._e(),c._v(\" \"),1==r.isRange&&0==r.haveRange?t(\"span\",{class:r.canClick?\"clicked\":\"unclicked\"},[c._v(\"[无范围]\")]):c._e(),c._v(\" \"),0==r.isRange&&1==r.haveLimit?t(\"span\",{class:r.canClick?\"clicked\":\"unclicked\"},[c._v(\"[有限制]\")]):c._e(),c._v(\" \"),0==r.isRange&&0==r.haveLimit?t(\"span\",{class:r.canClick?\"clicked\":\"unclicked\"},[c._v(\"[无限制]\")]):c._e(),c._v(\" \"),r.text!==c.undefine?t(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:r.text,expression:\"item.text\"}],attrs:{type:\"text\"},domProps:{value:r.text},on:{input:function(e){e.target.composing||c.$set(r,\"text\",e.target.value)}}}):c._e()])})],2)}))]),c._v(\" \"),c._m(0)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"limition\"},[t(\"div\",{staticClass:\"listname\"},[this._v(\"\\n          权限范围\\n        \")]),this._v(\" \"),t(\"div\",{staticClass:\"limtree\"},[t(\"ul\",{staticClass:\"ztree_limit_range\",attrs:{id:\"limit_range_tree\"}})])])}]};t.a=n},Xr6N:function(e,t){},iUuc:function(e,t,s){\"use strict\";var n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s(\"div\",[s(\"navi\",{attrs:{menuitem:t.menuitem}}),t._v(\" \"),s(\"div\",{staticClass:\"usermana\"},[s(\"div\",{staticClass:\"container-fluid\"},[s(\"div\",{staticClass:\"row\"},[s(\"div\",{staticClass:\"md-3\"},[s(\"pagetitle\",{attrs:{pageTitle:t.pageTitle}}),t._v(\" \"),s(\"div\",{staticClass:\"user-info\"},[s(\"div\",{staticClass:\"btns\"},[s(\"button\",{staticClass:\"mod-btn mod-btn-ref\",attrs:{type:\"button\"},on:{click:t.ref}},[s(\"i\",{staticClass:\"mod-btn-icon fa fa-refresh\"}),t._v(\"刷新\\n              \")]),t._v(\" \"),s(\"button\",{staticClass:\"mod-btn mod-btn-del\",attrs:{type:\"button\"},on:{click:t.del}},[s(\"i\",{staticClass:\"mod-btn-icon fa fa-trash\"}),t._v(\"删除\\n              \")]),t._v(\" \"),s(\"button\",{staticClass:\"mod-btn mod-btn-add\",attrs:{type:\"button\"},on:{click:t.add}},[s(\"i\",{staticClass:\"mod-btn-icon fa fa-plus\"}),t._v(\"添加\\n              \")])]),t._v(\" \"),s(\"ul\",{staticClass:\"ztree_user\",attrs:{id:\"usersTree\"}})])],1),t._v(\" \"),s(\"div\",{staticClass:\"md-9\"},[s(\"div\",{staticClass:\"content\"},[s(\"pagetitle\",{attrs:{pageTitle:t.pageTitle2}}),t._v(\" \"),s(\"div\",{staticClass:\"buttons clear\"},[s(\"button\",{staticClass:\"mod-btn mod-btn-save\",attrs:{type:\"button\"},on:{click:t.save}},[s(\"i\",{staticClass:\"mod-btn-icon fa fa-check-circle-o\"}),t._v(\"保存\\n              \")]),t._v(\" \"),s(\"button\",{staticClass:\"mod-btn mod-btn-log\",attrs:{type:\"button\"},on:{click:function(e){t.setPage(!0)}}},[s(\"i\",{staticClass:\"mod-btn-icon fa fa-file-text-o\"}),t._v(\"日志\\n              \")]),t._v(\" \"),s(\"button\",{staticClass:\"mod-btn mod-btn-permi\",attrs:{type:\"button\"},on:{click:function(e){t.setPage(!1)}}},[s(\"i\",{staticClass:\"mod-btn-icon fa fa-cog\"}),t._v(\"权限\\n              \")])]),t._v(\" \"),s(\"div\",{staticClass:\"baseinfo\"},[s(\"fieldset\",[s(\"legend\",{staticClass:\"title\"},[t._v(\"用户基本信息\")]),t._v(\" \"),s(\"div\",{staticClass:\"infolists clear\"},[s(\"div\",{staticClass:\"item\"},[t._m(0),t._v(\" \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.user.username,expression:\"user.username\"}],attrs:{type:\"text\"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,\"username\",e.target.value)}}})]),t._v(\" \"),s(\"div\",{staticClass:\"item\"},[t._m(1),t._v(\" \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.user.userid,expression:\"user.userid\"}],attrs:{type:\"text\"},domProps:{value:t.user.userid},on:{input:function(e){e.target.composing||t.$set(t.user,\"userid\",e.target.value)}}})]),t._v(\" \"),s(\"div\",{staticClass:\"item\"},[t._m(2),t._v(\" \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.user.department,expression:\"user.department\"}],attrs:{type:\"text\"},domProps:{value:t.user.department},on:{input:function(e){e.target.composing||t.$set(t.user,\"department\",e.target.value)}}})]),t._v(\" \"),s(\"div\",{staticClass:\"item\"},[t._m(3),t._v(\" \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.user.position,expression:\"user.position\"}],attrs:{type:\"text\"},domProps:{value:t.user.position},on:{input:function(e){e.target.composing||t.$set(t.user,\"position\",e.target.value)}}})]),t._v(\" \"),s(\"div\",{staticClass:\"item\"},[t._m(4),t._v(\" \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.user.loginId,expression:\"user.loginId\"}],attrs:{type:\"text\"},domProps:{value:t.user.loginId},on:{input:function(e){e.target.composing||t.$set(t.user,\"loginId\",e.target.value)}}})]),t._v(\" \"),s(\"div\",{staticClass:\"item\"},[t._m(5),t._v(\" \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.user.password,expression:\"user.password\"}],attrs:{type:\"text\"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,\"password\",e.target.value)}}})]),t._v(\" \"),s(\"div\",{staticClass:\"item\"},[t._m(6),t._v(\" \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.user.phoneMac,expression:\"user.phoneMac\"}],attrs:{type:\"text\"},domProps:{value:t.user.phoneMac},on:{input:function(e){e.target.composing||t.$set(t.user,\"phoneMac\",e.target.value)}}})]),t._v(\" \"),s(\"div\",{staticClass:\"item disabled\"},[t._m(7),t._v(\" \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.user.PCMac,expression:\"user.PCMac\"}],attrs:{type:\"text\",disabled:\"true\"},domProps:{value:t.user.PCMac},on:{input:function(e){e.target.composing||t.$set(t.user,\"PCMac\",e.target.value)}}})]),t._v(\" \"),s(\"div\",{staticClass:\"item disabled\"},[t._m(8),t._v(\" \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.user.device,expression:\"user.device\"}],attrs:{type:\"text\",disabled:\"true\"},domProps:{value:t.user.device},on:{input:function(e){e.target.composing||t.$set(t.user,\"device\",e.target.value)}}})]),t._v(\" \"),s(\"div\",{staticClass:\"item disabled\"},[t._m(9),t._v(\" \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.user.area,expression:\"user.area\"}],attrs:{type:\"text\",disabled:\"true\"},domProps:{value:t.user.area},on:{input:function(e){e.target.composing||t.$set(t.user,\"area\",e.target.value)}}})]),t._v(\" \"),s(\"div\",{staticClass:\"item disabled\"},[t._m(10),t._v(\" \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.user.register,expression:\"user.register\"}],attrs:{type:\"text\",disabled:\"true\"},domProps:{value:t.user.register},on:{input:function(e){e.target.composing||t.$set(t.user,\"register\",e.target.value)}}})]),t._v(\" \"),s(\"div\",{staticClass:\"item disabled\"},[t._m(11),t._v(\" \"),s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.user.regiTime,expression:\"user.regiTime\"}],attrs:{type:\"text\",disabled:\"true\"},domProps:{value:t.user.regiTime},on:{input:function(e){e.target.composing||t.$set(t.user,\"regiTime\",e.target.value)}}})])])])]),t._v(\" \"),s(\"PermitionMana\",{directives:[{name:\"show\",rawName:\"v-show\",value:!t.isLog,expression:\"!isLog\"}],ref:\"PermitionMana\"}),t._v(\" \"),s(\"WorkingLog\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.isLog,expression:\"isLog\"}]})],1)])])])])],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"span\",[e._v(\"用户名称\"),s(\"i\",{staticStyle:{color:\"red\"}},[e._v(\" * \")]),s(\"span\",{staticClass:\"colon\"},[e._v(\":\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"span\",[this._v(\"用户工号\"),t(\"span\",{staticClass:\"colon\"},[this._v(\":\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"span\",[this._v(\"所在部门\"),t(\"span\",{staticClass:\"colon\"},[this._v(\":\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"span\",[this._v(\"所任职务\"),t(\"span\",{staticClass:\"colon\"},[this._v(\":\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"span\",[this._v(\"登陆账号\"),t(\"span\",{staticClass:\"colon\"},[this._v(\":\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"span\",[this._v(\"登陆密码\"),t(\"span\",{staticClass:\"colon\"},[this._v(\":\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"span\",[this._v(\"手机MAC\"),t(\"span\",{staticClass:\"colon\"},[this._v(\":\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"span\",[this._v(\"PC MAC\"),t(\"span\",{staticClass:\"colon\"},[this._v(\":\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"span\",[this._v(\"登陆设备\"),t(\"span\",{staticClass:\"colon\"},[this._v(\":\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"span\",[this._v(\"登陆区域\"),t(\"span\",{staticClass:\"colon\"},[this._v(\":\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"span\",[this._v(\"注 册 人\"),t(\"span\",{staticClass:\"colon\"},[this._v(\":\")])])},function(){var e=this.$createElement,t=this._self._c||e;return t(\"span\",[this._v(\"注册日期\"),t(\"span\",{staticClass:\"colon\"},[this._v(\":\")])])}]};t.a=n},j9VT:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default={name:\"buttons\",data:function(){return{}},methods:{addressing:function(){console.log(\"敬请期待......\")},add:function(){console.log(\"敬请期待......\")},dele:function(){console.log(\"敬请期待......\")},refresh:function(){console.log(\"敬请期待......\")}}}},kIB6:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=s(\"nqjP\"),a=s.n(n);for(var i in n)\"default\"!==i&&function(e){s.d(t,e,function(){return n[e]})}(i);var r=s(\"XIHE\");var c=function(e){s(\"zWJh\")},o=s(\"C7Lr\")(a.a,r.a,!1,c,\"data-v-1bcdec76\",null);t.default=o.exports},noOw:function(e,t){},nqjP:function(e,i,r){\"use strict\";(function(n){Object.defineProperty(i,\"__esModule\",{value:!0});var e,t=r(\"wpre\"),s=(e=t)&&e.__esModule?e:{default:e};r(\"CER2\"),r(\"5P9s\");var a={};i.default={name:\"PermitionMana\",components:{createDataTree:s.default},computed:{getuserid:function(){return this.$parent.userId}},data:function(){return{checkedArr:[],permitionList:\"\",now_treename:\"\",limtree:\"\",userid:\"\",setting:{view:{showLine:!0},check:{enable:!0,chkStyle:\"checkbox\",chkboxType:{Y:\"ps\",N:\"ps\"}},data:{simpleData:{enable:!0}},callback:{onCheck:this.zTreeOnCheck}}}},mounted:function(){a=this},methods:{zTreeOnCheck:function(e,t,s){a.userid=a.$parent.userId,n.ajax({url:\"change_limiterange.php\",type:\"POST\",dataType:\"Json\",data:{targgget_id:s.id,limit_name:a.now_treename,checked:s.checked,userid:a.userid},success:function(e){a.limtree=e;var t=n.fn.zTree.init(n(\"#limit_range_tree\"),a.setting,a.limtree);console.log(t),console.log(e)}})},clicked:function(e){a.now_treename=e.name,console.log(e.name),console.log(a.userid);var t=e.name;n.ajax({url:\"get_user_limiterange.php\",type:\"POST\",dataType:\"Json\",data:{itemName:t,userid:a.userid},success:function(e){a.limtree=e;var t=n.fn.zTree.init(n(\"#limit_range_tree\"),a.setting,a.limtree);console.log(t),console.log(e)}})},checkAll:function(e){var t=this;!0===e.checked?e.children.forEach(function(e){t.checkedArr.splice(t.checkedArr.indexOf(e.name),1)}):(e.children.forEach(function(e){console.log(e.name),-1!==t.checkedArr.indexOf(e.name)&&t.checkedArr.splice(t.checkedArr.indexOf(e.name),1)}),e.children.forEach(function(e){t.checkedArr.push(e.name)}))}},watch:{getuserid:function(e,t){console.log(\"这是watch11\"),console.log(e),console.log(\"这是原本数据+that\"),console.log(a.permitionList),console.log(\"这是原本数据无that\"),n.ajax({url:\"get_user_limit.php\",type:\"POST\",dataType:\"Json\",data:{userid:e},success:function(e){a.permitionList=e,console.log(\"这里是watch\"),console.log(a.permitionList)}})}}}}).call(i,r(\"L7Pj\"))},qpwZ:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default={name:\"createDataTree\",props:[\"tree\"],data:function(){return{isOpen:!1,treeCheckedArr:[]}},computed:{isFolder:function(){return!(!this.tree.children||!this.tree.children.length)}},methods:{toggle:function(){this.isFolder&&(this.isOpen=!this.isOpen)}}}},tKgD:function(e,t,s){\"use strict\";var n={render:function(){var i=this,e=i.$createElement,s=i._self._c||e;return s(\"div\",[s(\"li\",[s(\"div\",{staticClass:\"item\"},[i.isFolder?s(\"span\",{staticClass:\"plus\",on:{click:i.toggle}},[i._v(\"[\"+i._s(i.isOpen?\"-\":\"+\")+\"]\")]):i._e(),i._v(\" \"),!0===i.tree.hascheckbox&&i.isFolder?s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.tree.checked,expression:\"tree.checked\"}],attrs:{type:\"checkbox\"},domProps:{checked:Array.isArray(i.tree.checked)?-1<i._i(i.tree.checked,null):i.tree.checked},on:{change:function(e){var t=i.tree.checked,s=e.target,n=!!s.checked;if(Array.isArray(t)){var a=i._i(t,null);s.checked?a<0&&i.$set(i.tree,\"checked\",t.concat([null])):-1<a&&i.$set(i.tree,\"checked\",t.slice(0,a).concat(t.slice(a+1)))}else i.$set(i.tree,\"checked\",n)}}}):i._e(),i._v(\" \"),!0!==i.tree.hascheckbox||i.isFolder?i._e():s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:i.treeCheckedArr,expression:\"treeCheckedArr\"}],attrs:{type:\"checkbox\"},domProps:{checked:Array.isArray(i.treeCheckedArr)?-1<i._i(i.treeCheckedArr,null):i.treeCheckedArr},on:{change:function(e){var t=i.treeCheckedArr,s=e.target,n=!!s.checked;if(Array.isArray(t)){var a=i._i(t,null);s.checked?a<0&&(i.treeCheckedArr=t.concat([null])):-1<a&&(i.treeCheckedArr=t.slice(0,a).concat(t.slice(a+1)))}else i.treeCheckedArr=n}}}),i._v(\" \"),i.isFolder?i._e():s(\"label\",{staticClass:\"node\"},[i._v(i._s(i.tree.name))]),i._v(\" \"),i.isFolder?s(\"label\",{staticClass:\"folder\",on:{click:i.toggle}},[i._v(i._s(i.tree.name))]):i._e()]),i._v(\" \"),s(\"ul\",i._l(i.tree.children,function(e,t){return i.isFolder?s(\"createDataTree\",{directives:[{name:\"show\",rawName:\"v-show\",value:i.isOpen,expression:\"isOpen\"}],key:t,attrs:{tree:e}}):i._e()}))])])},staticRenderFns:[]};t.a=n},w18R:function(e,o,l){\"use strict\";(function(i){Object.defineProperty(o,\"__esModule\",{value:!0});var e=c(l(\"ieyZ\")),t=c(l(\"bTOd\")),s=c(l(\"TJ2y\")),n=c(l(\"wpre\")),a=c(l(\"kIB6\")),r=c(l(\"JIRo\"));function c(e){return e&&e.__esModule?e:{default:e}}l(\"CER2\"),l(\"Uu3Y\"),o.default={name:\"usermana\",components:{navi:e.default,pagetitle:t.default,buttons:s.default,createDataTree:n.default,PermitionMana:a.default,WorkingLog:r.default},data:function(){return{checkedIds:[],userId:\"\",item:\"\",options:{label:\"name\",idsWithParent:!1,checkbox:!0,uncheckedIcon:\"fa fa-user-o\",checkedIcon:\"fa fa-user\",halfCheckedIcon:\"fa fa-user-circle-o\",folderBold:\"false\",openIcon:\"fa fa-plus-square\",closeIcon:\"fa fa-minus-square\"},isLog:!1,pageTitle:\"用户列表\",pageTitle2:\"用户信息与权限\",userlists:\"\",user:\"\",testdata:\"TEST\",setting:{view:{showLine:!0},data:{simpleData:{enable:!0}},callback:{onClick:this.zTreeOnClick}}}},computed:{menuitem:function(){return this.$store.state.tree[1]},nodeData:function(){return this.userlists}},mounted:function(){i.fn.zTree.init(i(\"#usersTree\"),this.setting,this.nodeData).expandAll(!0)},watch:{nodeData:function(e,t){i.fn.zTree.init(i(\"#usersTree\"),this.setting,this.nodeData).expandAll(!0)}},methods:{add:function(){console.log(this.userlists);for(var s=this,e=!0,t=0;t<this.userlists.children.length;t++)if(\"未命名\"===this.userlists.children[t].name){console.log(\"已存在未命名用户，请先编辑！\");e=!1}1==e&&i.ajax({url:\"new_user.php\",type:\"POST\",dataType:\"Json\",data:{adduser:\"adduser\"},success:function(e){s.userlists=e,console.log(s.userlists),setTimeout(function(){var e=i.fn.zTree.getZTreeObj(\"usersTree\");e.selectNode(e.getNodeByParam(\"user_id\",\"recieve\",null));var t=\"recieve\";s.userId=t,i.ajax({url:\"/get_user_information_other.php\",type:\"POST\",dataType:\"Json\",data:{userid:t},success:function(e){s.user=e,console.log(s.user)}})},200)}})},del:function(){var t=this;if(\"\"===this.userId)console.log(\"请选择一个用户\");else{var e=i.fn.zTree.getZTreeObj(\"usersTree\").getSelectedNodes(),s=\"\";console.log(e);for(var n=0;n<e.length;n++)s=e[n].user_id,console.log(s),i.ajax({url:\"user_delete.php\",type:\"POST\",dataType:\"Json\",data:{userid:s},success:function(e){t.userlists=e,console.log(t.userlists),console.log(\"删除成功\")}})}},ref:function(){var t=this;i.ajax({url:\"get_users.php\",type:\"POST\",dataType:\"Json\",data:{userName:\"1\"},success:function(e){console.log(e),t.userlists=e,console.log(t.userlists),console.log(\"刷新成功\")}})},save:function(){var t=this;if(console.log(t.userId),\"\"===t.user.username||\"未命名\"===t.user.username)console.log(\"用户名不能为空，或未命名\");else if(\"\"===t.user.password)console.log(\"密码不能为空\");else if(\"\"===t.user.loginId||\"recieve\"===t.user.loginId)console.log(\"登陆账号不能为空，或recive\");else{var e=t.$refs.PermitionMana.permitionList;console.log(e),i.ajax({url:\"user_save.php\",type:\"POST\",dataType:\"JSON\",data:{user:t.user,permitionList:e,userid:t.userId},success:function(e){t.userlists=e,console.log(e),console.log(\"保存成功\"),t.userId=t.user.loginId,console.log(t.userId)}}),console.log(\"前面是保存成功后的id\")}},setPage:function(e){this.isLog=!!e},zTreeOnClick:function(e,t,s){console.log(t,s);var n=this;if(\"DEVISER组态工作栈管理系统\"!=s.name){var a=s.user_id;this.userId=a,this.item=s,i.ajax({url:\"/get_user_information_other.php\",type:\"POST\",dataType:\"Json\",data:{userid:a},success:function(e){n.user=e,console.log(n.user)}})}console.log(a)}},created:function(){var t=this;console.log(this.testdata),console.log(\"ajax之前\"),i.ajax({url:\"get_users.php\",type:\"POST\",dataType:\"Json\",data:{userName:\"1\"},success:function(e){t.userlists=e,console.log(e),console.log(\"ajax成功\")}}),console.log(\"ajax之后\")}}}).call(o,l(\"L7Pj\"))},wpre:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=s(\"qpwZ\"),a=s.n(n);for(var i in n)\"default\"!==i&&function(e){s.d(t,e,function(){return n[e]})}(i);var r=s(\"tKgD\");var c=function(e){s(\"1HEJ\")},o=s(\"C7Lr\")(a.a,r.a,!1,c,\"data-v-3e585b92\",null);t.default=o.exports},zWJh:function(e,t){}});"}